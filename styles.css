:root{
  --bg:#0a0f0f; --panel:#11181a; --border:#1f2a2e; --text:#e6f1ef; --muted:#9fb2ad; --accent:#2ee6a6;
}
*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; background:var(--bg); color:var(--text); font-family:"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }

.page{ max-width:980px; margin:0 auto; padding:24px; }

.tabs{ display:flex; gap:16px; margin-bottom:16px; }
.tabs a{ color:var(--muted); text-decoration:none; padding:8px 10px; border-radius:6px; }
.tabs a.active, .tabs a:hover{ color:var(--text); background:var(--panel); border:1px solid var(--border); }

.subtabs{ display:flex; gap:16px; margin-bottom:16px; }
.subtabs .tablink{ background:none; border:1px solid transparent; color:var(--muted); padding:8px 10px; border-radius:6px; cursor:pointer; }
.subtabs .tablink.active, .subtabs .tablink:hover{ color:var(--text); background:var(--panel); border-color:var(--border); }

.header{ margin:8px 0 18px; }
.header h1{ margin:0 0 8px; font-size:28px; }
.hash{ color:var(--accent); margin-right:6px; }
.braces{ color:var(--muted); }
.accent{ color:var(--accent); }
.sub{ color:var(--muted); margin:6px 0 0; }
.italic{ font-style:italic; }

.panel{ background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:16px; margin-bottom:16px; }
.panel.minimal{ padding:12px; }

.field{ margin-bottom:12px; display:flex; flex-direction:column; gap:6px; }
label .req{ color:#f39; }

input, select{ background:#0e1516; color:var(--text); border:1px solid var(--border); border-radius:8px; padding:10px; }
.btn{ background:#0e1516; color:var(--text); border:1px solid var(--border); padding:10px 14px; border-radius:10px; cursor:pointer; }
.btn.primary{ background:var(--accent); color:#081412; border-color:transparent; }
.btn:hover{ filter:brightness(1.1); }
.actions{ display:flex; gap:8px; flex-wrap:wrap; }

.dropzone{ margin-top:8px; padding:20px; border:2px dashed var(--border); border-radius:12px; text-align:center; color:var(--muted); }
.dropzone.dragover{ border-color:var(--accent); color:var(--text); }

.prompt{ display:flex; align-items:center; gap:12px; margin:10px 0; }
.viewer{ position:relative; display:block; overflow:auto; max-height:70vh; padding:8px; border:1px dashed var(--border); border-radius:12px; background:#0b1111; }

.docCanvas{ display:block; max-width:100%; height:auto; }

.overlay{ position:absolute; left:0; top:0; pointer-events:auto; }

/* Wizard viewer layering */
.viewer   { position: relative; }
.docCanvas{ position: relative; z-index: 1; background: #ffffff; }
.overlay  { position: absolute; z-index: 2; left: 0; top: 0; pointer-events: auto; touch-action: none; cursor: crosshair; }

canvas.debug-crop, #pdfCanvas{ background:none !important; }

/* Extraction / results */
.confidence{ font-size:10px; color:var(--muted); margin-left:4px; }
.warn{ color:var(--accent); font-size:12px; margin-left:2px; }
.line-items-table{ width:100%; border-collapse:collapse; font-size:12px; }
.line-items-table th, .line-items-table td{ border-bottom:1px solid var(--border); padding:4px; }

/* OCR crop self-test */
.ocrCropRow{ display:flex; align-items:flex-start; gap:8px; margin-bottom:6px; }
.ocrCropRow img{ width:80px; height:auto; max-height:80px; border:1px solid var(--border); background:#fff; }
.ocrCropRow .badge{ font-size:11px; padding:2px 4px; background:#222; border:1px solid var(--border); border-radius:4px; }
.ocrCropRow .badge.warn{ background:#ffea00; color:#000; }
.ocrGeom{ font-size:10px; color:var(--muted); }

/* Trace viewer */
#traceViewer{ display:none; }
.traceStage{ cursor:pointer; padding:2px 0; }
.traceStage:hover{ background:#222; }
#traceDetail{ max-height:160px; overflow:auto; }

/* Trace viewer page */
#thumbs img.thumb{ width:80px; height:auto; margin:4px; border:1px solid var(--border); cursor:pointer; }
#thumbs img.thumb.selected{ border-color:var(--accent); }
#overlayControls{ margin:8px 0; display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
